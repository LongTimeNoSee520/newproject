<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zjtc.mapper.WaterUseDataMapper">

  <resultMap id="WaterUseDataModel" type="com.zjtc.model.WaterUseData">
    <result column="id" property="id" jdbcType="VARCHAR"/>
    <result column="use_water_unit_id" property="useWaterUnitId" jdbcType="VARCHAR"/>
    <result column="unit_code" property="unitCode" jdbcType="VARCHAR"/>
    <result column="unit_names" property="unitNames" jdbcType="VARCHAR"/>
    <result column="unit_addresss" property="unitAddresss" jdbcType="VARCHAR"/>
    <result column="use_year" property="useYear" jdbcType="INTEGER"/>
    <result column="use_month" property="useMonth" jdbcType="INTEGER"/>
    <result column="water_meter_code" property="waterMeterCode" jdbcType="VARCHAR"/>
    <result column="water_begin" property="waterBegin" jdbcType="VARCHAR"/>
    <result column="water_end" property="waterEnd" jdbcType="VARCHAR"/>
    <result column="water_number" property="waterNumber" jdbcType="VARCHAR"/>
    <result column="price" property="price" jdbcType="VARCHAR"/>
    <result column="caliber" property="caliber" jdbcType="INTEGER"/>
    <result column="sector" property="sector" jdbcType="VARCHAR"/>
    <result column="water_use_kinds" property="waterUseKinds" jdbcType="VARCHAR"/>
    <result column="uid" property="uid" jdbcType="VARCHAR"/>
    <result column="node_code" property="nodeCode" jdbcType="VARCHAR"/>
    <result column="type" property="type" jdbcType="VARCHAR"/>
  </resultMap>


  <select id="selectWaterUseDataId" resultMap="WaterUseDataModel">
    select * from t_w_water_use_data where use_water_unit_id = #{id}
  </select>

  <update id="deletedUnit">
    update t_w_water_use_data set use_water_unit_id = null
    WHERE id IN
    <foreach collection="ids" item="id" separator="," open="(" close=")">
      #{id}
    </foreach>
  </update>
</mapper>